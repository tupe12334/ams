---
displayNumber: 22
status: open
priority: 2
createdAt: 2026-02-02T21:30:17.766838+00:00
updatedAt: 2026-02-02T21:30:17.766838+00:00
---

# Add npm package wrapper for npx/pnpm dlx support

## Summary

Wrap the AMS Rust CLI in an npm package so users can easily install and run it via:

* `npx ams`
* `pnpm dlx ams`
* `npm install -g ams`

## Background

Currently, users need to build from source or download pre-built binaries manually. An npm wrapper would provide a familiar installation experience for Node.js developers and simplify distribution.

## Requirements

* [ ] Create `package.json` with appropriate metadata
* [ ] Set up binary distribution using `@anthropic-ai/cli` pattern or similar approach
* [ ] Support multiple platforms (darwin-arm64, darwin-x64, linux-x64, linux-arm64, win32-x64)
* [ ] Configure postinstall script to download the correct binary for the userâ€™s platform
* [ ] Add `bin` field to package.json pointing to the wrapper script
* [ ] Publish to npm registry

## Implementation Options

1. **Binary hosting**: Host pre-built binaries on GitHub Releases and download during postinstall
1. **Platform-specific packages**: Create separate npm packages per platform (e.g., `@ams/darwin-arm64`) and use optionalDependencies
1. **Single package with embedded binaries**: Bundle all platform binaries in one package (larger size but simpler)

## Acceptance Criteria

* Users can run `npx ams --help` successfully
* Package installs correctly on macOS (arm64/x64), Linux (x64/arm64), and Windows (x64)
* Binary version matches the Cargo.toml version
